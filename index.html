<!DOCTYPE html>
<html lang='en' class=''>
<head>
  <script id="vertex-shader" type="x-shader/x-vertex">
    attribute vec2 aVertexPosition;
    uniform vec2 uScalingFactor;
    uniform vec2 uRotationVector;
    uniform vec2 resolution;
    void main() {
      vec2 rotatedPosition = vec2((aVertexPosition.x),
        (aVertexPosition.y)
      );
      gl_Position = vec4(rotatedPosition * uScalingFactor, 0.0, 1.0);
    }
  </script>
  <script id="fragment-shader" type="x-shader/x-fragment">
    #ifdef GL_ES
      precision highp float;
    #endif
    uniform float time;
    uniform vec2 resolution;
    float tau = 6.28318530718;

    void main() {
      float scale = resolution.y*(50.0/160.0);
      vec2 pos = vec2((gl_FragCoord.x-resolution.x/2.0)/scale, (gl_FragCoord.y-resolution.y/2.0)/scale);
      //float c = pos.x*(pos.y)*(1.0-pos.y);
      //vec3 color = vec3(sin(pos.x)*tan(pos.y)*(sin(time/10.0)-pos.y), sin(pos.x+tau/3.0)*tan(pos.y)*(sin(time/10.0+tau/3.0)-pos.y), sin(pos.x+2.0*tau/3.0)*tan(pos.y)*(sin(time/10.0+2.0*tau/3.0)-pos.y));
      vec3 color = vec3(0.0,0.0,0.0);
      float d2 = (pos.x*pos.x+pos.y*pos.y)/1.2;
      color = (d2 < 1.0+sin(time/20.0+1.0*tau/8.0+atan(pos.x-pos.y))) ? vec3(color.r,color.g+0.2/d2,color.b) : color;
      color = (d2 < 1.0+sin(time/20.0+2.0*tau/8.0+atan(pos.x+pos.y))) ? vec3(color.r,color.g+0.2/d2,color.b) : color;
      color = (d2 < 1.0+sin(time/20.0+3.0*tau/8.0-atan(pos.y-pos.x))) ? vec3(color.r,color.g+0.2/d2,color.b) : color;
      color = (d2 < 1.0+sin(time/20.0+4.0*tau/8.0-atan(pos.y+pos.x))) ? vec3(color.r,color.g+0.2/d2,color.b) : color;
      color = (d2 < 1.0+sin(time/20.0+5.0*tau/8.0-atan(pos.x-pos.y))) ? vec3(color.r,color.g+0.2/d2,color.b) : color;
      color = (d2 < 1.0+sin(time/20.0+6.0*tau/8.0-atan(pos.x+pos.y))) ? vec3(color.r,color.g+0.2/d2,color.b) : color;
      color = (d2 < 1.0+sin(time/20.0+7.0*tau/8.0+atan(pos.y-pos.x))) ? vec3(color.r,color.g+0.2/d2,color.b) : color;
      color = (d2 < 1.0+sin(time/20.0+8.0*tau/8.0+atan(pos.y+pos.x))) ? vec3(color.r,color.g+0.2/d2,color.b) : color;
      color = (pos.y+0.1+0.1*sin(pos.x*2.0-3.0*sin(time/80.0)) < -abs(1.0/(pos.x/7.0))-(mod(pos.x*4.0+(pos.y*pos.y-10.0)*0.5*sin(time/80.0), 1.0))) ? vec3(color.r,color.g+0.5,color.b) : color;
      color = (pos.y+0.1*sin(pos.x*2.0-3.0*sin(time/80.0)) < -abs(1.0/(pos.x/8.0))-(mod(pos.x*3.0+(pos.y*pos.y-10.0)*0.5*sin(time/80.0), 1.0))) ? vec3(color.r,color.g+0.5,color.b) : color;
      gl_FragColor = vec4(color.r,color.g,color.b,1.0);
      //gl_FragColor = vec4(cos(gl_FragCoord.x/1000.0+time/9.0)/2.0+0.5,sin(gl_FragCoord.y/1000.0+time/10.0)/2.0+0.5,sin((gl_FragCoord.x-resolution.x/2.0)/(gl_FragCoord.y-resolution.y/2.0)+time/11.0)/2.0+0.5,1.0);
    }
  </script>

<style>
  /* remove the border */
  body {
    margin: 0 !important;
    padding: 0 !important;
    border: 0;
    background-color: "#685436";
  }
  /* make the canvas the size of the viewport */
  canvas {
    width: 100vw;
    height: 5em;
    display: block;
  }
</style>
</head>
<body>
  <header style="width: 100vw; height: 5em; display: block;">
    <img style="height: 5em; position: absolute; left: 50%; margin-right: -50%; transform: translate(-50%, 0px)" src="cabbageT2.png" >
    <canvas id="glcanvas">
      Oh no! Your browser doesn't support canvas!
    </canvas>
  </header>
  <h1>cabbagemans epic webpage</h1>

  <script  src="glsetup.js"></script>
</body>
</html>
